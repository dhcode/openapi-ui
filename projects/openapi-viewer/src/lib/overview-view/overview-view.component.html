<div class="oav-content">
  <h1>{{ spec.info.title }}</h1>

  <p *ngIf="spec.info.description">
    <markdown [data]="spec.info.description"></markdown>
  </p>

  <div *ngIf="spec.info.termsOfService">
    <a [href]="spec.info.termsOfService" target="_blank">Terms of service</a>
  </div>
  <div *ngIf="spec.info.contact?.url">
    <a [href]="spec.info.contact.url" target="_blank">{{ spec.info.contact.name || 'Contact link' }}</a>
  </div>
  <div *ngIf="spec.info.contact?.email">
    <a [href]="'mailto:' + spec.info.contact.email" target="_blank">{{ spec.info.contact.name || 'Contact email' }}</a>
  </div>
  <div *ngIf="spec.info.license?.url">
    <a [href]="spec.info.license?.url" target="_blank">License: {{ spec.info.license.name }}</a>
  </div>
  <div *ngIf="spec.info.license && !spec.info.license.url">License: {{ spec.info.license.name }}</div>

  <ng-container *ngFor="let tag of index">
    <h2>{{ tag.tag.name }}</h2>
    <p *ngIf="tag.tag.description">{{ tag.tag.description }}</p>
    <small *ngIf="tag.tag.externalDocs" class="extra-link">
      {{ tag.tag.externalDocs.description }}:
      <a [href]="tag.tag.externalDocs.url" target="_blank">{{ tag.tag.externalDocs.url }}</a>
    </small>

    <ng-container *ngFor="let pathItem of tag.paths">
      <ng-container *ngFor="let op of pathItem.operations">
        <h3>
          <a [routerLink]="[tag.tag.name, op.operation.operationId]" routerLinkActive="active" class="oav-header-link">
            <oav-method [method]="op.method"></oav-method>
            <span class="oav-path ml-1" [class.deprecated]="op.operation.deprecated">{{ pathItem.path }}</span>
            <span class="oav-summary font-size-smaller ml-2">{{ op.operation.summary }}</span>
          </a>
        </h3>
      </ng-container>
    </ng-container>
  </ng-container>
</div>
