<h1>
  <oav-method [method]="operationItem.method"></oav-method>
  <span class="oav-path ml-1" [class.deprecated]="operation.deprecated">{{ pathItem.path }}</span>
  <span class="oav-summary font-size-smaller ml-2">{{ operation.summary }}</span>
</h1>

<p *ngIf="operationItem.operation.description">
  <markdown [data]="operationItem.operation.description"></markdown>
</p>

<ng-container *ngIf="showRawOperationDefinition">
  <h4 oavOpenable #rawOpenable="openable" class="toggle-button">Raw operation definition</h4>
  <pre *ngIf="rawOpenable.open">{{ operationItem.operation | json }}</pre>
</ng-container>

<form (submit)="send()" [formGroup]="formGroup">
  <ng-container *ngIf="operationItem.parameters?.length">
    <h4>Parameters</h4>
    <oav-parameter *ngFor="let param of operationItem.parameters" [parameter]="param" [formGroup]="formGroup"></oav-parameter>
  </ng-container>
  <ng-container *ngIf="operationItem.operation.requestBody">
    <oav-request-body-input [requestBody]="operationItem.operation.requestBody" [addToFormGroup]="formGroup"></oav-request-body-input>
  </ng-container>
  <button class="send-btn" [disabled]="formGroup.invalid">Send request</button>
</form>

<h4 class="oav-divided-container">
  <span class="main">Responses</span>
  <select class="response-type-select" name="responseType" [(ngModel)]="responseType">
    <option *ngFor="let resType of operationItem.responseTypes" [value]="resType">{{ resType }}</option>
  </select>
</h4>

<oav-responses [responses]="operationItem.responses" [responseType]="responseType"></oav-responses>

<div class="oav-operation-requests" [hidden]="!requests.length">
  <h4>Requests</h4>
  <oav-requests-list [requests]="requests" [openRequest]="openRequest"></oav-requests-list>
</div>
